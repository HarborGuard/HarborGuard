# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

DATABASE_URL="postgresql://postgres:testpass@localhost:5432/harborguard?sslmode=disable"

# ===== Harbor Guard Configuration =====

# Scanner Configuration
MAX_CONCURRENT_SCANS=1              # Prevent resource exhaustion (1-20)
SCAN_TIMEOUT_MINUTES=30             # Prevent hanging scans (5-180 minutes)
ENABLED_SCANNERS=trivy,grype,syft,dockle,osv,dive  # Comma-separated list
VERSION_CHECK_ENABLED=true

# Logging
LOG_LEVEL=info                      # debug, info, warn, error

# Maintenance  
CLEANUP_OLD_SCANS_DAYS=30          # Automatic database cleanup (1-365 days)

# Network
PORT=3000                          # Server port (1000-65535)
# HOSTNAME=0.0.0.0                 # Server bind address

# Notifications (optional)
# TEAMS_WEBHOOK_URL=https://...     # Microsoft Teams webhook URL
# SLACK_WEBHOOK_URL=https://...     # Slack webhook URL
# GOTIFY_SERVER_URL=http://localhost:8080
# GOTIFY_APP_TOKEN=AC5X0f7ISmwz-zJ
# APPRISE_API_URL=http://localhost:8000
# APPRISE_CONFIG_KEY=harborguard
# APPRISE_URLS=mailto://...         # Direct Apprise notification URLs
# NOTIFY_ON_HIGH_SEVERITY=true      # Send notifications for high/critical findings

# Monitoring
HEALTH_CHECK_ENABLED=true          # Enable /api/health and /api/ready endpoints

# Development/Build Settings (usually set automatically)
# NODE_ENV=development              # development, production, test
# NEXT_PUBLIC_DEMO_MODE=false       # Enable demo mode features
# NEXT_PUBLIC_APP_VERSION=1.0.0     # Override app version display
# NEXT_PUBLIC_API_URL=http://localhost:3000  # API base URL for documentation

# Path Configuration (Docker volumes)
# SCANNER_WORKDIR=/workspace        # Scanner working directory
# PATCH_WORKDIR=/workspace/patches  # Patch working directory